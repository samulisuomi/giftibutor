(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{234:function(e,n,t){e.exports=t(601)},239:function(e,n,t){},241:function(e,n,t){},243:function(e,n,t){},248:function(e,n){},250:function(e,n){},284:function(e,n){},285:function(e,n){},601:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(22),o=t.n(l),c=(t(239),t(32)),i=t(33),u=t(35),s=t(34),m=t(36),f=t(606),p=t(607),h=t(605),d=(t(241),t(49)),g=t(233),b=t.n(g),E=t(50),v=t(40),O=t(51),y=(t(243),t(127)),j=t.n(y),x="very-secret-key-btw-who-are-you-and-what-are-you-doing-here-well-hello-anyway",N=function(e){return new j.a(x).encrypt(e)},w=t(130),C=t.n(w),S=t(232),k=t.n(S),P=t(604),D=t(220),A=t.n(D),B=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.props.giftee;return window.props=this.props,e?r.a.createElement(A.a,{"data-clipboard-text":"https://sasuomi.github.io/giftibutor?your_giftee=".concat(e)},"Copy Link to Clipboard"):null}}]),n}(a.PureComponent),G=Object(P.a)(B),M=t(224),I=t.n(M),q=t(226),T=t.n(q),z=t(28),F=t.n(z),J=t(225),W=t.n(J),L=t(128),R=t.n(L),V=t(126),X=t.n(V),$=t(227),_=t.n($),H=t(228),K=t.n(H),Q=t(229),U=t.n(Q),Y=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).handleExclusionChange=function(e){return function(n){t.props.onExclusionChange(e,n.target.value)}},t.handlePersonDelete=function(e){return function(n){t.props.onPersonDelete(e)}},t}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.classes,a=n.exclusionOptions,l=n.people,o=n.addingMoreExclusionsDisabled;return l.length?r.a.createElement(X.a,{className:t.root},r.a.createElement(I.a,null,r.a.createElement(W.a,null,r.a.createElement(R.a,null,r.a.createElement(F.a,null,"Name"),r.a.createElement(F.a,null,"Don't match with"),r.a.createElement(F.a,null,"Giftee"),r.a.createElement(F.a,{className:t.removeCell},"Remove"))),r.a.createElement(T.a,null,l.map(function(n){var l=n.exclusion||"";return r.a.createElement(R.a,{key:n.name},r.a.createElement(F.a,null,n.name),r.a.createElement(F.a,null,r.a.createElement(_.a,{name:"exclusion",className:l?t.exclusionSelect:t.noExclusionSelect,value:l,disabled:!l&&o,onChange:e.handleExclusionChange(n.name)},r.a.createElement("option",{className:t.nullOption,value:""},"Select..."),a.filter(function(e){return e!==n.name}).map(function(e){return r.a.createElement("option",{key:e,value:e,children:e})}))),r.a.createElement(F.a,null,n.giftee?r.a.createElement(G,{giftee:n.giftee}):null),r.a.createElement(F.a,{className:t.removeCell},r.a.createElement(K.a,{onClick:e.handlePersonDelete(n.name)},r.a.createElement(U.a,{className:t.removeIcon}))))})))):null}}]),n}(a.PureComponent),Z=Object(d.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto",backgroundColor:"#f5f3da"},exclusionSelect:{fontSize:"0.8125rem"},noExclusionSelect:{fontSize:"0.8125rem",color:"rgba(0, 0, 0, 0.5)"},noSelection:{root:{color:"red"}},removeCell:{width:"1px",textAlign:"center"},removeIcon:{color:"#dc5757"}}})(Y),ee=t(230),ne=t.n(ee),te=t(231),ae=t.n(te),re=t(129),le=t.n(re),oe=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={name:"",people:[{name:"1",giftee:null},{name:"2",giftee:null},{name:"3",giftee:null}],exclusions:[]},t.handleNameChange=function(e){t.setState({name:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.people,r=n.name,l=a.map(function(e){return Object(O.a)({},e,{giftee:null})});t.setState({name:"",people:Object(v.a)(l).concat([{name:t.formatName(r),giftee:null}])})},t.formatName=function(e){return e.trim()},t.isAddDisabled=function(){var e=t.state,n=e.name,a=e.people;if(!n.length)return!0;var r=t.formatName(n);return a.some(function(e){return e.name===r})},t.handleGenerateGiftees=function(){var e=t.state.people,n=t.getExcludedNamesByName(),a=ne()(e),r=ae()(a,function(e){return!n.hasOwnProperty(e.name)}),l=r[0],o=a.reduce(function(e){var t=e.currentPerson,a=e.queue,r=e.gifteeNamesByName,o=n[t.name],c=a.findIndex(function(e){return e.name!==o}),i=-1!==c?a[c]:l,u=i.name,s=Object(O.a)({},r,Object(E.a)({},t.name,u));return{currentPerson:i,queue:a.length&&-1!==c?Object(v.a)(a.slice(0,c)).concat(Object(v.a)(a.slice(c+1,a.length))):a,gifteeNamesByName:s}},{currentPerson:r[0],queue:r.slice(1),gifteeNamesByName:{}}).gifteeNamesByName,c=le.a.apply(void 0,[e.map(function(e){return e.name})].concat(Object(v.a)(Object.keys(o)))),i=le.a.apply(void 0,[e.map(function(e){return e.name})].concat(Object(v.a)(Object.values(o))));1===c.length&&1===i.length&&c[0]!==i[0]&&(n[c[0]]!==i[0]&&(o[c[0]]=i[0]));var u=e.map(function(e){return Object(O.a)({},e,{giftee:o[e.name]})});t.setState({people:u})},t.handleExclusionChange=function(e,n){var a=t.state.exclusions.filter(function(t){return!t.has(e)&&!t.has(n)}),r=n?Object(v.a)(a).concat([new Set([e,n])]):a;t.setState({exclusions:r})},t.handlePersonDelete=function(e){var n=t.state,a=n.people,r=n.exclusions;t.setState({people:a.filter(function(n){return n.name!==e}),exclusions:r.filter(function(n){return!n.has(e)})})},t.getExclusionOptions=function(){return t.state.people.map(function(e){return e.name})},t.getExcludedNamesByName=function(){return t.state.exclusions.reduce(function(e,n){var t,a=Array.from(n);return Object(O.a)({},e,(t={},Object(E.a)(t,a[0],a[1]),Object(E.a)(t,a[1],a[0]),t))},{})},t}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.state,n=e.name,t=e.people,a=e.exclusions,l=this.getExcludedNamesByName(),o=t.map(function(e){return Object(O.a)({},e,{exclusion:l[e.name]||null,giftee:e.giftee?N(e.giftee):null})}),c=Math.floor(t.length/2)<=a.length,i=t.length<3;return r.a.createElement("div",{className:"PersonForm"},r.a.createElement("div",{className:"generate-giftees-container"},r.a.createElement("p",null,t.length?r.a.createElement(C.a,{children:"Generate giftees",variant:"contained",color:"primary",disabled:i,type:"submit",onClick:this.handleGenerateGiftees}):null)),r.a.createElement(Z,{people:o,exclusionOptions:this.getExclusionOptions(),onPersonDelete:this.handlePersonDelete,onExclusionChange:this.handleExclusionChange,addingMoreExclusionsDisabled:i||c}),i?r.a.createElement("p",null,"Add at least ",3," people to be able to generate giftees."):null,r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(k.a,{label:"Name",value:n,onChange:this.handleNameChange,margin:"normal"}),r.a.createElement(C.a,{className:"add-person",children:"Add",variant:"contained",color:"primary",disabled:this.isAddDisabled(),type:"submit"})))}}]),n}(a.PureComponent),ce=Object(d.createMuiTheme)({palette:{primary:{main:"#81c784"},secondary:b.a}}),ie=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return console.log("/giftibutor"),r.a.createElement(d.MuiThemeProvider,{theme:ce},r.a.createElement(f.a,{basename:"/giftibutor"},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Giftibutor"),r.a.createElement("h2",null,"the Secret Santa generator")),r.a.createElement("main",{className:"App-main"},r.a.createElement(p.a,null,r.a.createElement(h.a,{path:"/",exact:!0,component:oe}),r.a.createElement(h.a,{path:"/giftee",exact:!0,component:function(){return r.a.createElement("span",{children:"TODO"})}}),r.a.createElement(h.a,{component:function(){return r.a.createElement("span",{children:"Not Found"})}}))))))}}]),n}(a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[234,2,1]]]);
//# sourceMappingURL=main.1bd747d3.chunk.js.map