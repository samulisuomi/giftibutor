{"version":3,"sources":["PersonTable.js","PersonForm.js","App.js","serviceWorker.js","index.js"],"names":["PersonTable","handleExclusionChange","name","event","_this","props","onExclusionChange","target","value","handlePersonDelete","onPersonDelete","_this2","this","_this$props","classes","exclusionOptions","people","addingMoreExclusionsDisabled","length","react_default","a","createElement","Paper_default","className","root","Table_default","TableHead_default","TableRow_default","TableCell_default","removeCell","TableBody_default","map","person","exclusion","key","NativeSelect_default","exclusionSelect","noExclusionSelect","disabled","onChange","nullOption","filter","children","giftee","IconButton_default","onClick","ClearRounded_default","removeIcon","PureComponent","withStyles","theme","width","overflowX","backgroundColor","fontSize","color","noSelection","textAlign","PersonForm","state","exclusions","handleNameChange","setState","handleSubmit","preventDefault","_this$state","clearedPeople","Object","objectSpread","toConsumableArray","concat","formatName","trim","isAddDisabled","_this$state2","formattedName","some","handleGenerateGiftees","shuffledPeople","shuffle","giftees","slice","gifteesByName","reduce","peopleByName","index","defineProperty","newPeople","excludedName","filteredExclusions","pair","has","newExclusions","Set","_this$state3","getExclusionOptions","getExclusionsByName","exclusionsByName","_objectSpread3","names","Array","from","window","pf","_this$state4","peopleWithExclusions","Math","floor","isGenerateGifteesDisabled","Button_default","variant","type","src_PersonTable","noValidate","onSubmit","TextField_default","label","margin","createMuiTheme","palette","primary","main","secondary","amber","App","styles","BrowserRouter","basename","process","Switch","Route","path","exact","component","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4b04eda2.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport NativeSelect from '@material-ui/core/NativeSelect';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearRoundedIcon from '@material-ui/icons/ClearRounded';\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    overflowX: 'auto',\n    backgroundColor: '#f5f3da'\n  },\n  exclusionSelect: {\n    fontSize: '0.8125rem'\n  },\n  noExclusionSelect: {\n    fontSize: '0.8125rem',\n    color: 'rgba(0, 0, 0, 0.5)'\n  },\n  noSelection: {\n    root: {\n      color: 'red'\n    }\n  },\n  removeCell: {\n    width: '1px',\n    textAlign: 'center'\n  },\n  removeIcon: {\n    color: '#dc5757'\n  }\n});\n\nclass PersonTable extends PureComponent {\n  static propTypes = {\n    classes: PropTypes.object.isRequired,\n    people: PropTypes.array.isRequired,\n    exclusionOptions: PropTypes.array.isRequired,\n    onPersonDelete: PropTypes.func.isRequired,\n    onExclusionChange: PropTypes.func.isRequired,\n    addingMoreExclusionsDisabled: PropTypes.bool\n  }\n\n  handleExclusionChange = name => event => {\n    this.props.onExclusionChange(name, event.target.value);\n  }\n\n  handlePersonDelete = name => event => {\n    this.props.onPersonDelete(name);\n  }\n\n  render() {\n    const {\n      classes,\n      exclusionOptions,\n      people,\n      addingMoreExclusionsDisabled\n    } = this.props;\n\n    return people.length ? (\n      <Paper className={ classes.root }>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Name</TableCell>\n              <TableCell>Don't match with</TableCell>\n              <TableCell>Giftee</TableCell>\n              <TableCell className={ classes.removeCell }>Remove</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {people.map(person => {\n              const value = person.exclusion || '';\n\n              return (\n                <TableRow key={ person.name }>\n                  <TableCell>{ person.name }</TableCell>\n                  <TableCell>\n                    <NativeSelect\n                      name=\"exclusion\"\n                      className={ value ? classes.exclusionSelect : classes.noExclusionSelect }\n                      value={ value }\n                      disabled={ !value && addingMoreExclusionsDisabled }\n                      onChange={ this.handleExclusionChange(person.name) }\n                    >\n                      <option className={ classes.nullOption} value=\"\">Select...</option>\n                      { exclusionOptions\n                          .filter(name => name !== person.name)\n                          .map(name => (\n                            <option\n                              key={ name }\n                              value={ name }\n                              children={ name }\n                            />\n                          )) }\n                    </NativeSelect>\n                  </TableCell>\n                  <TableCell>{ person.giftee }</TableCell>\n                  <TableCell className={ classes.removeCell }>\n                    <IconButton onClick={ this.handlePersonDelete(person.name) }>\n                      <ClearRoundedIcon className={ classes.removeIcon }/>\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </Paper>\n    ) : null;\n  }\n}\n\nexport default withStyles(styles)(PersonTable);\n","import React, { PureComponent } from 'react';\nimport './PersonForm.css'\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport PersonTable from './PersonTable'\n\nimport shuffle from 'lodash/shuffle';\n\nconst MIN_PEOPLE = 3;\n\nclass PersonForm extends PureComponent {\n  state = {\n    name: '',\n    people: [],\n    exclusions: []\n  }\n\n  handleNameChange = event => {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { people, name } = this.state;\n\n    const clearedPeople = people.map(person => ({\n      ...person,\n      giftee: null\n    })) \n\n    this.setState({\n      name: '',\n      people: [ ...clearedPeople, {\n        name: this.formatName(name),\n        giftee: null\n      }]\n    });\n  }\n  \n  formatName = name => {\n    return name.trim()\n  }\n\n  isAddDisabled = () => {\n    const { name, people } = this.state;\n\n    if (!name.length) return true\n\n    const formattedName = this.formatName(name);\n\n    return people.some(person => person.name === formattedName);\n  }\n\n  handleGenerateGiftees = () => {\n    const { people } = this.state;\n\n    const shuffledPeople = shuffle(people);\n    const giftees = [ ...shuffledPeople.slice(1), shuffledPeople[0] ];\n\n    const gifteesByName = shuffledPeople.reduce((peopleByName, person, index) => {\n      return {\n        ...peopleByName,\n        [person.name]: giftees[index].name\n      }\n    }, {})\n\n    const newPeople = people.map(person => {\n      return {\n        ...person,\n        giftee: gifteesByName[person.name]\n      };\n    });\n\n    this.setState({\n      people: newPeople\n    });\n  }\n\n  handleExclusionChange = (name, excludedName) => {\n    const { exclusions } = this.state;\n\n    const filteredExclusions = exclusions.filter(pair => !pair.has(name) && !pair.has(excludedName))\n\n    const newExclusions = excludedName ? [\n      ...filteredExclusions,\n      new Set([ name, excludedName ])\n    ] : filteredExclusions;\n\n    this.setState({\n      exclusions: newExclusions\n    });\n  }\n\n  handlePersonDelete = name => {\n    const { people, exclusions } = this.state;\n\n    this.setState({\n      people: people.filter(person => person.name !== name),\n      exclusions: exclusions.filter(pair => !pair.has(name)),\n    });\n  }\n\n  getExclusionOptions = () => {\n    const { people } = this.state;\n\n    return people.map(person => person.name);\n  }\n\n  getExclusionsByName = () => {\n    const { exclusions } = this.state;\n\n    return exclusions.reduce((exclusionsByName, exclusion) => {\n      const names = Array.from(exclusion);\n\n      return {\n        ...exclusionsByName,\n        [names[0]]: names[1],\n        [names[1]]: names[0]\n      }\n    }, {})\n  }\n\n  render() {\n    window.pf = this;\n\n    const { name, people, exclusions } = this.state;\n\n    const exclusionsByName = this.getExclusionsByName()\n    const peopleWithExclusions = people.map(person => ({\n      ...person,\n      exclusion: exclusionsByName[person.name] || null\n    }));\n    const addingMoreExclusionsDisabled = Math.floor(people.length / 2) <= exclusions.length;\n    const isGenerateGifteesDisabled = people.length < MIN_PEOPLE;\n\n    return (\n      <div className=\"PersonForm\">\n        <div className=\"generate-giftees-container\">\n          <p>\n            { people.length ? (\n              <Button\n                children=\"Generate giftees\"\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={ isGenerateGifteesDisabled }\n                type=\"submit\"\n                onClick={ this.handleGenerateGiftees }\n              />\n            ) : null }\n          </p>\n        </div>\n        <PersonTable\n          people={ peopleWithExclusions }\n          exclusionOptions={ this.getExclusionOptions() }\n          onPersonDelete={ this.handlePersonDelete }\n          onExclusionChange={ this.handleExclusionChange }\n          addingMoreExclusionsDisabled={ isGenerateGifteesDisabled || addingMoreExclusionsDisabled }\n        />\n        { isGenerateGifteesDisabled ? (\n          <p>\n            Add at least { MIN_PEOPLE } people to be able to generate giftees.\n          </p>\n        ) : null }\n        <form\n          noValidate\n          onSubmit={ this.handleSubmit }\n        >\n          <TextField\n            label=\"Name\"\n            value={ name }\n            onChange={ this.handleNameChange }\n            margin=\"normal\"\n          />\n          <Button\n            className=\"add-person\"\n            children=\"Add\"\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={ this.isAddDisabled() }\n            type=\"submit\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default PersonForm;\n","import React, { PureComponent } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport './App.css';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport amber from '@material-ui/core/colors/amber';\n\nimport PersonForm from './PersonForm'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#81c784',\n    },\n    secondary: amber\n  }\n});\n\nclass App extends PureComponent {\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Router basename={ process.env.PUBLIC_URL }>\n          <div className=\"App\">\n            <header className=\"App-header\">\n              <h1>\n                Giftibutor\n              </h1>\n            </header>\n            <main className=\"App-main\">\n              <Switch>\n                <Route path=\"/\" exact component={ PersonForm } />\n                <Route path=\"/giftee\" exact component={() => (<span children=\"TODO\" />)} />\n                <Route component={() => (<span children=\"Not Found\" />)} />\n              </Switch>\n            </main>\n          </div>\n        </Router>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}