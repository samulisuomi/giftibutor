(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,n,t){e.exports=t(439)},164:function(e,n,t){},166:function(e,n,t){},168:function(e,n,t){},439:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(15),c=t.n(l),o=(t(164),t(31)),i=t(32),u=t(35),s=t(33),m=t(36),p=t(441),h=t(443),f=t(442),d=(t(166),t(34)),E=t(157),b=t.n(E),g=t(37),v=t(24),O=t(38),x=(t(168),t(91)),N=t.n(x),j=t(156),y=t.n(j),w=t(148),S=t.n(w),C=t(150),P=t.n(C),k=t(20),D=t.n(k),A=t(149),B=t.n(A),G=t(89),M=t.n(G),I=t(88),q=t.n(I),T=t(151),z=t.n(T),F=t(152),J=t.n(F),W=t(153),R=t.n(W),V=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).handleExclusionChange=function(e){return function(n){t.props.onExclusionChange(e,n.target.value)}},t.handlePersonDelete=function(e){return function(n){t.props.onPersonDelete(e)}},t}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.classes,a=n.exclusionOptions,l=n.people,c=n.addingMoreExclusionsDisabled;return l.length?r.a.createElement(q.a,{className:t.root},r.a.createElement(S.a,null,r.a.createElement(B.a,null,r.a.createElement(M.a,null,r.a.createElement(D.a,null,"Name"),r.a.createElement(D.a,null,"Don't match with"),r.a.createElement(D.a,null,"Giftee"),r.a.createElement(D.a,{className:t.removeCell},"Remove"))),r.a.createElement(P.a,null,l.map(function(n){var l=n.exclusion||"";return r.a.createElement(M.a,{key:n.name},r.a.createElement(D.a,null,n.name),r.a.createElement(D.a,null,r.a.createElement(z.a,{name:"exclusion",className:l?t.exclusionSelect:t.noExclusionSelect,value:l,disabled:!l&&c,onChange:e.handleExclusionChange(n.name)},r.a.createElement("option",{className:t.nullOption,value:""},"Select..."),a.filter(function(e){return e!==n.name}).map(function(e){return r.a.createElement("option",{key:e,value:e,children:e})}))),r.a.createElement(D.a,null,n.giftee),r.a.createElement(D.a,{className:t.removeCell},r.a.createElement(J.a,{onClick:e.handlePersonDelete(n.name)},r.a.createElement(R.a,{className:t.removeIcon}))))})))):null}}]),n}(a.PureComponent),X=Object(d.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto",backgroundColor:"#f5f3da"},exclusionSelect:{fontSize:"0.8125rem"},noExclusionSelect:{fontSize:"0.8125rem",color:"rgba(0, 0, 0, 0.5)"},noSelection:{root:{color:"red"}},removeCell:{width:"1px",textAlign:"center"},removeIcon:{color:"#dc5757"}}})(V),$=t(154),H=t.n($),K=t(155),L=t.n(K),Q=t(90),U=t.n(Q),Y=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={name:"",people:[],exclusions:[]},t.handleNameChange=function(e){t.setState({name:e.target.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.people,r=n.name,l=a.map(function(e){return Object(O.a)({},e,{giftee:null})});t.setState({name:"",people:Object(v.a)(l).concat([{name:t.formatName(r),giftee:null}])})},t.formatName=function(e){return e.trim()},t.isAddDisabled=function(){var e=t.state,n=e.name,a=e.people;if(!n.length)return!0;var r=t.formatName(n);return a.some(function(e){return e.name===r})},t.handleGenerateGiftees=function(){var e=t.state.people,n=t.getExcludedNamesByName(),a=H()(e),r=L()(a,function(e){return!n.hasOwnProperty(e.name)}),l=r[0],c=a.reduce(function(e){var t=e.currentPerson,a=e.queue,r=e.gifteeNamesByName,c=n[t.name],o=a.findIndex(function(e){return e.name!==c}),i=-1!==o?a[o]:l,u=i.name,s=Object(O.a)({},r,Object(g.a)({},t.name,u));return{currentPerson:i,queue:a.length&&-1!==o?Object(v.a)(a.slice(0,o)).concat(Object(v.a)(a.slice(o+1,a.length))):a,gifteeNamesByName:s}},{currentPerson:r[0],queue:r.slice(1),gifteeNamesByName:{}}).gifteeNamesByName,o=U.a.apply(void 0,[e.map(function(e){return e.name})].concat(Object(v.a)(Object.keys(c)))),i=U.a.apply(void 0,[e.map(function(e){return e.name})].concat(Object(v.a)(Object.values(c))));1===o.length&&1===i.length&&o[0]!==i[0]&&(n[o[0]]!==i[0]&&(c[o[0]]=i[0]));var u=e.map(function(e){return Object(O.a)({},e,{giftee:c[e.name]})});t.setState({people:u})},t.handleExclusionChange=function(e,n){var a=t.state.exclusions.filter(function(t){return!t.has(e)&&!t.has(n)}),r=n?Object(v.a)(a).concat([new Set([e,n])]):a;t.setState({exclusions:r})},t.handlePersonDelete=function(e){var n=t.state,a=n.people,r=n.exclusions;t.setState({people:a.filter(function(n){return n.name!==e}),exclusions:r.filter(function(n){return!n.has(e)})})},t.getExclusionOptions=function(){return t.state.people.map(function(e){return e.name})},t.getExcludedNamesByName=function(){return t.state.exclusions.reduce(function(e,n){var t,a=Array.from(n);return Object(O.a)({},e,(t={},Object(g.a)(t,a[0],a[1]),Object(g.a)(t,a[1],a[0]),t))},{})},t}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this.state,n=e.name,t=e.people,a=e.exclusions,l=this.getExcludedNamesByName(),c=t.map(function(e){return Object(O.a)({},e,{exclusion:l[e.name]||null})}),o=Math.floor(t.length/2)<=a.length,i=t.length<3;return r.a.createElement("div",{className:"PersonForm"},r.a.createElement("div",{className:"generate-giftees-container"},r.a.createElement("p",null,t.length?r.a.createElement(N.a,{children:"Generate giftees",variant:"contained",color:"primary",disabled:i,type:"submit",onClick:this.handleGenerateGiftees}):null)),r.a.createElement(X,{people:c,exclusionOptions:this.getExclusionOptions(),onPersonDelete:this.handlePersonDelete,onExclusionChange:this.handleExclusionChange,addingMoreExclusionsDisabled:i||o}),i?r.a.createElement("p",null,"Add at least ",3," people to be able to generate giftees."):null,r.a.createElement("form",{noValidate:!0,onSubmit:this.handleSubmit},r.a.createElement(y.a,{label:"Name",value:n,onChange:this.handleNameChange,margin:"normal"}),r.a.createElement(N.a,{className:"add-person",children:"Add",variant:"contained",color:"primary",disabled:this.isAddDisabled(),type:"submit"})))}}]),n}(a.PureComponent),Z=Object(d.createMuiTheme)({palette:{primary:{main:"#81c784"},secondary:b.a}}),_=function(e){function n(){return Object(o.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(d.MuiThemeProvider,{theme:Z},r.a.createElement(p.a,{basename:"/giftibutor"},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Giftibutor"),r.a.createElement("h2",null,"the Secret Santa generator")),r.a.createElement("main",{className:"App-main"},r.a.createElement(h.a,null,r.a.createElement(f.a,{path:"/",exact:!0,component:Y}),r.a.createElement(f.a,{path:"/giftee",exact:!0,component:function(){return r.a.createElement("span",{children:"TODO"})}}),r.a.createElement(f.a,{component:function(){return r.a.createElement("span",{children:"Not Found"})}}))))))}}]),n}(a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,2,1]]]);
//# sourceMappingURL=main.af318708.chunk.js.map